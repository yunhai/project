<?phpclass home_public extends ObjectPublic{	function __construct(){            global $vsTemplate;            parent::__construct('products', CORE_PATH.'products/', 'products');            $this->html = $vsTemplate->load_template('skin_home');	}function showDefault(){		global $vsSettings,$vsMenu,$bw,$vsTemplate,$DB,$vsStd,$vsLang;		$this->model->getNavigator();		$item = $bw->isMobile ? 4 : 6;		$vsStd->requireFile(CORE_PATH."products/products.php");		$pr = new products();		$categories = $vsMenu->getCategoryGroup("products");    $option = array();    foreach ($categories->children as $id => $target) {			if ($target->status) {				$option['category'][$id] = $target;	      $pr->setCondition("productCatId in ({$id}) and productStatus = 2");	    	$pr->setOrder("productIndex ASC, productId DESC");	    	$pr->setLimit(array(0, $item));	  		$option['product'][$id] = $pr->getObjectsByCondition();	      if($option['product'][$id]) {					$this->model->convertFileObject($option['product'][$id] ,'products');				}			}    }  	$strIds = $vsMenu->getChildrenIdInTree($categories);  	$pr->setCondition("productCatId in ({$strIds}) and productStatus = 3");  	$pr->setOrder("productIndex ASC, productId DESC");		$option['promote'] = $pr->getObjectsByCondition();  	return $this->output = $this->html->showDefault($option);	}}?>